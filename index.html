<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤©æ–‡4æŠã‚¯ã‚¤ã‚º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="tenmon_quiz.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div id="quiz-container" class="container w-full">

        <div class="flex justify-between items-center mb-6">
            
            <div class="flex items-center gap-4">
                <button id="home-button" class="hidden px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg rounded-full shadow-md transition duration-150">
                    HOME
                </button>
                <h1 class="text-3xl font-bold text-gray-100">å¤©æ–‡ã‚¯ã‚¤ã‚º</h1> 
            </div>
            
            <div class="flex items-center gap-4">
                
                <div class="flex items-center gap-3">
                    <a href="https://www.instagram.com/cit.tenmon207/" target="_blank" rel="noopener noreferrer" class="sns-icon">
                        <i class="fa-brands fa-instagram fa-lg"></i>
                    </a>
                    <a href="https://x.com/Cittenmon" target="_blank" rel="noopener noreferrer" class="sns-icon">
                        <i class="fa-brands fa-x-twitter fa-lg"></i>
                    </a>
                </div>

                <div id="score-display" class="text-xl font-semibold text-sky-400 p-2 rounded-lg bg-gray-800 shadow-lg">
                    ã‚¹ã‚³ã‚¢: 0 / 0
                </div>
            </div>
		</div>

        <div id="game-area" class="question-card relative rounded-xl p-6 md:p-8">

            <div id="difficulty-select-screen" class="text-center">
                <h1 class="text-3xl font-bold text-gray-100 mb-2">å¤©æ–‡ã‚¯ã‚¤ã‚º</h1>
                <p class="text-xl text-sky-400 mb-8">é›£æ˜“åº¦ã‚’é¸æŠã—ã¦ãã ã•ã„</p>

                <div class="flex flex-col gap-4">
                    <button onclick="selectDifficulty('1')" class="difficulty-button level-1 block w-full p-4 bg-gray-800 text-gray-100 font-semibold text-lg rounded-lg text-center shadow-md transition duration-200">
                        ãƒ¬ãƒ™ãƒ« 1
                    </button>
                    <button onclick="selectDifficulty('2')" class="difficulty-button level-2 block w-full p-4 bg-gray-800 text-gray-100 font-semibold text-lg rounded-lg text-center shadow-md transition duration-200">
                        ãƒ¬ãƒ™ãƒ« 2
                    </button>
                    <button onclick="selectDifficulty('3')" class="difficulty-button level-3 block w-full p-4 bg-gray-800 text-gray-100 font-semibold text-lg rounded-lg text-center shadow-md transition duration-200">
                        ãƒ¬ãƒ™ãƒ« 3
                    </button>
                    <button onclick="selectDifficulty('4')" class="difficulty-button level-4 block w-full p-4 bg-gray-800 text-gray-100 font-semibold text-lg rounded-lg text-center shadow-md transition duration-200">
                        ãƒ¬ãƒ™ãƒ« 4
                    </button>
                    <button onclick="selectDifficulty('5')" class="difficulty-button level-5 block w-full p-4 bg-gray-800 text-gray-100 font-semibold text-lg rounded-lg text-center shadow-md transition duration-200">
                        ãƒ¬ãƒ™ãƒ« 5
                    </button>
                </div>
                
                <div class="mt-8">
                    <button id="show-ranking-button" class="px-6 py-2 bg-yellow-600 hover:bg-yellow-700 text-white font-bold text-lg rounded-full shadow-lg transition duration-150">
                        ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¦‹ã‚‹
                    </button>
				</div>

                <div id="ranking-display-area" class="hidden mt-6 p-4 bg-gray-900 rounded-lg text-left text-white" style="max-height: 400px; overflow-y: auto;">
                    
                    <div id="ranking-level-select">
                        <h3 class="text-xl font-bold text-yellow-400 text-center mb-4">ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚° ğŸ†</h3>
                        <p class="text-center mb-4">è¦‹ã‚‹ãƒ¬ãƒ™ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„</p>
                        <div class="flex flex-col gap-3">
                            <button onclick="fetchAndDisplayRanking('1')" class="difficulty-button level-1 p-3">ãƒ¬ãƒ™ãƒ« 1</button>
                            <button onclick="fetchAndDisplayRanking('2')" class="difficulty-button level-2 p-3">ãƒ¬ãƒ™ãƒ« 2</button>
                            <button onclick="fetchAndDisplayRanking('3')" class="difficulty-button level-3 p-3">ãƒ¬ãƒ™ãƒ« 3</button>
                            <button onclick="fetchAndDisplayRanking('4')" class="difficulty-button level-4 p-3">ãƒ¬ãƒ™ãƒ« 4</button>
                            <button onclick="fetchAndDisplayRanking('5')" class="difficulty-button level-5 p-3">ãƒ¬ãƒ™ãƒ« 5</button>
                        </div>
                        <button onclick="closeRankingDisplay()" class="mt-4 w-full p-2 bg-gray-600 hover:bg-gray-700 rounded">é–‰ã˜ã‚‹</button>
                    </div>
                    
                    <div id="ranking-result-display" class="hidden">
                    </div>

                </div>

                <div class="absolute bottom-3 right-4">
                    <a href="secret.html" class="text-xs text-[#171c23] hover:text-sky-400 no-underline transition-colors" title="?????????????">
                        *
                    </a>
                </div>
            </div>

            <div id="start-screen" class="text-center hidden">
                <h2 class="text-2xl font-bold mb-4 text-white">å®‡å®™ã®çŸ¥è­˜ã‚’è©¦ãã†ï¼</h2>
                <p class="text-gray-400 mb-6">ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚</p>
                <button id="start-button" class="px-8 py-3 bg-green-600 hover:bg-green-700 text-white font-bold text-lg rounded-full shadow-xl transition duration-150 transform hover:scale-105">
                    ã‚¯ã‚¤ã‚ºã‚¹ã‚¿ãƒ¼ãƒˆ
                </button>
            </div>
            
            <div id="quiz-screen" class="hidden">
                <div class="mb-6">
                    <p id="question-number" class="text-sm font-medium text-sky-400 mb-2">å•é¡Œ 1 / 10</p>
                    <div id="question-area" class="text-xl md:text-2xl font-semibold text-gray-100 p-4 bg-gray-700 rounded-lg">
                        å•é¡Œæ–‡ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™
                    </div>
                </div>
                <div id="choices-area" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                </div>
                <div id="feedback-area" class="mt-6 h-8 text-center text-xl font-bold">
                </div>
            </div>

            <div id="exp-screen" class="hidden">
                <div class="mb-6">
                    <p class="text-lg font-semibold text-gray-100 mb-2">æ­£è§£</p>
                    <div id="answer-area" class="text-2xl md:text-3xl font-bold text-green-500 p-4 bg-gray-800 rounded-lg mb-4 text-center">
                    </div>
                    <p class="text-sm font-medium text-sky-400 mb-2">è§£èª¬</p>
                    <div id="exp-area" class="text-xl md:text-2xl font-semibold text-gray-100 p-4 bg-gray-700 rounded-lg" style="min-height: 100px;">
                    </div>
                </div>
                <div class="text-center">
                    <button id="next-button" class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg rounded-full shadow-xl transition duration-150 transform hover:scale-105">
                        æ¬¡ã¸é€²ã‚€
                    </button>
                </div>
            </div>
            
            <div id="result-screen" class="hidden text-center">
                <h2 id="result-title" class="text-3xl font-bold mb-4 text-yellow-300"></h2>
                <p id="final-score-text" class="text-5xl font-extrabold text-green-500 mb-6"></p>
                <p class="text-gray-400 mb-6">ã¾ãŸæŒ‘æˆ¦ã—ã¦ã€å®‡å®™åšå£«ã‚’ç›®æŒ‡ãã†ï¼</p>
                <div class="flex flex-col sm:flex-row gap-4 justify-center">
        
        <a href="index.html" id="restart-button" class="inline-block no-underline px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg rounded-full shadow-xl transition duration-150 transform hover:scale-105">
            ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤
        </a>
					<a id="share-button" 
           href="#" 
           target="_blank" 
           rel="noopener noreferrer" 
           class="inline-block no-underline px-8 py-3 bg-gray-900 hover:bg-gray-700 text-white font-bold text-lg rounded-full shadow-xl transition duration-150 transform hover:scale-105">
            <i class="fa-brands fa-x-twitter"></i> çµæœã‚’ã‚·ã‚§ã‚¢
        </a>
            </div>
        </div>
    </div>
</div>

    <script>
        // â–¼â–¼â–¼ JavaScriptã®å‡¦ç†é–‹å§‹ â–¼â–¼â–¼
		
        // GAS (Google Apps Script) ã®Webã‚¢ãƒ—ãƒªURLã€‚ã“ã“ã«ã‚¹ã‚³ã‚¢ã‚’é€ä¿¡ã—ã¾ã™ã€‚
		const GAS_WEB_APP_URL = "https://script.google.com/macros/s/AKfycbyzvBFBRYLyrZzfdsGcWoaU7hXIUggbPUqGcX9zK4qL6Cg9F6kbtKKvplekCwMtOpH4/exec";
        
        // --- 1. å…¨ãƒ¬ãƒ™ãƒ«ã®ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’å®šç¾© ---
        // ã‚¯ã‚¤ã‚ºã®å…¨ãƒ‡ãƒ¼ã‚¿ï¼ˆå•é¡Œã€é¸æŠè‚¢ã€ç­”ãˆã€è§£èª¬æ–‡ï¼‰ã‚’ãƒ¬ãƒ™ãƒ«åˆ¥ã«æ ¼ç´
        const allQuizData = {
            "1": [
                { question: "æœˆã¯åœ°çƒã®å‘¨ã‚Šã‚’å›ã‚ŠãªãŒã‚‰è‡ªè»¢ã—ã¦ã„ã¾ã™ã€‚æœˆã¯ç´„ä½•æ—¥ã§1å›è‡ªè»¢ã‚’ã™ã‚‹ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ç´„1æ—¥", "ç´„27æ—¥", "ç´„60æ—¥", "ç´„243æ—¥"], answer: "ç´„27æ—¥", exp:"" },
                { question: "æ—¥æœ¬ã®ä¸€å¹´ã®ã†ã¡ã€ä¸€ç•ªæ˜¼ãŒçŸ­ã„æ—¥ã¯ã€æ¬¡ã®ã†ã¡ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["æ˜¥åˆ†ã®æ—¥", "å¤è‡³", "ç§‹åˆ†ã®æ—¥", "å†¬è‡³"], answer: "å†¬è‡³", exp:"" },
                { question: "å›½éš›å¤©æ–‡å­¦é€£åˆã«ã‚ˆã‚‹ã¨ã€ç¾åœ¨æ˜Ÿåº§ã¯ä½•å€‹ã‚ã‚‹ã¨ã•ã‚Œã¦ã„ã‚‹ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["44å€‹", "66å€‹", "88å€‹", "102å€‹"], answer: "88å€‹", exp:"" },
                { question: "è‡ªã‚‰å…‰ã‚’ç™ºã—ã¦ã„ã‚‹æ˜Ÿã‚’ãªã‚“ã¨ã„ã†ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["æ’æ˜Ÿ", "æƒ‘æ˜Ÿ", "å…‰æ˜Ÿ", "å½—æ˜Ÿ"], answer: "æ’æ˜Ÿ", exp:"" },
                { question: "å¤ªé™½ç³»ã®æƒ‘æ˜Ÿã®ä¸­ã§æœ€ã‚‚å¤§ãã„ã‚‚ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["åœ°çƒ", "ç«æ˜Ÿ", "æœ¨æ˜Ÿ", "åœŸæ˜Ÿ"], answer: "æœ¨æ˜Ÿ", exp:"" },
                { question: "ç¾åœ¨ã®åŒ—æ¥µæ˜Ÿã¯æ¬¡ã®ã†ã¡ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ãƒ™ã‚¬", "ãƒãƒ©ãƒªã‚¹", "ã‚¨ãƒ©ã‚¤", "ãƒ‡ãƒãƒ–"], answer: "ãƒãƒ©ãƒªã‚¹", exp:"" },
                { question: "æ¬¡ã®ã†ã¡é»„é“12æ˜Ÿåº§ã«å«ã¾ã‚Œã¦ã„ãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ãŠã†ã—åº§", "ãŠãŠãã¾åº§", "ãŠã²ã¤ã˜åº§", "ã‚„ãåº§"], answer: "ãŠãŠãã¾åº§", exp:"" },
                { question: "æƒ‘æ˜Ÿã®å‘¨ã‚Šã‚’ã¾ã‚ã‚‹æ˜Ÿã‚’ãªã‚“ã¨å‘¼ã¶ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["æ’æ˜Ÿ", "å°æƒ‘æ˜Ÿ", "è¡›æ˜Ÿ", "å‘¨æƒ‘æ˜Ÿ"], answer: "è¡›æ˜Ÿ", exp:"" },
                { question: "ä¸»æˆåˆ†ãŒæ°·ã¨å¡µã§ã‚ã‚Šã€åˆ¥åã»ã†ãæ˜Ÿã¨å‘¼ã°ã‚Œã‚‹æ˜Ÿã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["è¡›æ˜Ÿ", "æ°·æ˜Ÿ", "å¡µæ˜Ÿ", "å½—æ˜Ÿ"], answer: "å½—æ˜Ÿ", exp:"" },
                { question: "å†¬ã®å¤§ä¸‰è§’ã‚’æ§‹æˆã™ã‚‹æ˜Ÿã¯ã‚ªãƒªã‚ªãƒ³åº§ã®ãƒ™ãƒ†ãƒ«ã‚®ã‚¦ã‚¹ã€ãŠãŠã„ã¬åº§ã®ã‚·ãƒªã‚¦ã‚¹ã¨ã“ã„ã¬åº§ã®ãªã‚“ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ãƒ™ã‚¬", "ã‚¢ãƒ«ã‚¿ã‚¤ãƒ«", "ãƒ—ãƒ­ã‚­ã‚ªãƒ³", "ã‚¢ãƒ«ãƒ‡ãƒãƒ©ãƒ³"], answer: "ãƒ—ãƒ­ã‚­ã‚ªãƒ³", exp:"" }
            ],
            "2": [
                { question: "å¤ªé™½ã¨åœ°çƒã®è·é›¢ã¯ä½•kmã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ç´„100ä¸‡km", "ç´„5000ä¸‡km", "ç´„1å„„5000ä¸‡km", "ç´„5å„„km"], answer: "ç´„1å„„5000ä¸‡km", exp:"" },
                { question: "ç«æ˜Ÿã‚’è¡¨ã™æƒ‘æ˜Ÿè¨˜å·ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["â™€", "â™‚", "â™„", "â™ƒ"], answer: "â™‚", exp:"" },
                { question: "å¤ªé™½ã®è¡¨é¢æ¸©åº¦ã¯ç´„ä½•åº¦ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ç´„6000â„ƒ", "ç´„10000â„ƒ", "ç´„12000â„ƒ", "ç´„16000â„ƒ"], answer: "ç´„6000â„ƒ", exp:"" },
                { question: "æœ€è¿‘ã€ãƒŸã‚¯ãƒ­ã®ç ”ç©¶ãŒç››ã‚“ãªã“ã¨ã§ã‚ˆãèãã€ŒÎ¼ã€ã‚„ã€Œnã€ã§ã™ãŒã€10ã®-9ä¹—ã‚’è¡¨ã™ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["Î¼ï¼ˆãƒã‚¤ã‚¯ãƒ­ï¼‰", "nï¼ˆãƒŠãƒï¼‰", "Ã…ï¼ˆã‚ªãƒ³ã‚°ã‚¹ãƒˆãƒ­ãƒ¼ãƒ ï¼‰", "mï¼ˆãƒŸãƒªï¼‰"], answer: "nï¼ˆãƒŠãƒï¼‰", exp:"" },
                { question: "æœ‰åãªæºå¹³åˆæˆ¦ã§ã™ãŒã€ã‚ã‚‹å¤©æ–‡çš„ãªç¾è±¡ãŒå‹æ•—ã‚’åˆ†ã‘ãŸæˆ¦ã„ãŒã‚ã‚‹ã¨è¨€ã‚ã‚Œã¦ã„ã¾ã™ã€‚ãã®ç¾è±¡ã¨ã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["æœˆé£Ÿ", "æ—¥é£Ÿ", "æ–°æœˆ", "å¤ªé™½ãƒ•ãƒ¬ã‚¢"], answer: "æ—¥é£Ÿ", exp:"" },
                { question: "å¤ªé™½ç³»ã®æƒ‘æ˜Ÿã®ä¸­ã§è¡›æ˜Ÿã‚’æŒãŸãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["æœ¨æ˜Ÿ", "é‡‘æ˜Ÿ", "åœ°çƒ", "ç«æ˜Ÿ"], answer: "é‡‘æ˜Ÿ", exp:"" },
                { question: "ç¾åœ¨ã€ä¸–ç•Œã®å¤šãã®å›½ã€…ã§æ¡ç”¨ã•ã‚Œã¦ã„ã‚‹å¤ªé™½æš¦ã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ãƒã‚¢ãƒ–æš¦", "ã‚°ãƒ¬ã‚´ãƒªã‚ªæš¦", "ãƒ¦ãƒªã‚¦ã‚¹æš¦", "ãƒ„ã‚©ãƒ«ã‚­ãƒ³æš¦"], answer: "ã‚°ãƒ¬ã‚´ãƒªã‚ªæš¦", exp:"" },
                { question: "ä¸»æˆåˆ†ã¯ã‚¬ã‚¹ã¨å¡µã§ã‚ã‚Šã€è‡ªã‚‰å…‰ã‚‰ãšèƒŒå¾Œã®æ˜Ÿã®å…‰ã‚’é®ã‚‹ã“ã¨ã§è¦³æ¸¬ã•ã‚Œã‚‹æ˜Ÿé–“é›²ã‚’ä½•ã¨ã„ã†ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["æš—é»’æ˜Ÿé›²", "åå°„æ˜Ÿé›²", "æ•£å…‰æ˜Ÿé›²", "æƒ‘æ˜Ÿä¸Šæ˜Ÿé›²"], answer: "æš—é»’æ˜Ÿé›²", exp:"" },
                { question: "åŒ—æ¥µæ˜Ÿã‚’è¦‹ã¤ã‘ã‚‹éš›ã«ç”¨ã„ã‚‰ã‚Œã‚‹åŒ—æ–—ä¸ƒæ˜Ÿã¨ã‚«ã‚·ã‚ªãƒšãƒ¤åº§ã§ã™ãŒã€ã„ãšã‚Œã‚‚åŸºæº–ã¨ãªã‚‹ç·šã‚’ä½•å€ã™ã‚‹ã¨åŒ—æ¥µæ˜Ÿã«è¾¿ã‚Šç€ã‘ã‚‹ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["2å€", "3å€", "5å€", "8å€"], answer: "5å€", exp:"" },
                { question: "å¤©çƒä¸Šã«ãŠã‘ã‚‹å¤ªé™½ã®é€šã‚Šé“ã‚’ãªã‚“ã¨å‘¼ã¶ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["èµ¤é“", "é‡‘é“", "ç™½é“", "é»„é“"], answer: "é»„é“", exp:"" }
            ],
            "3": [
                { question: "åœ°çƒã§ä½“é‡30kgã®äººãŒæœˆé¢ã§ä½“é‡è¨ˆã«ä¹—ã‚‹ã¨ä½•kgã«ãªã‚‹ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["5kg", "10kg", "30kg", "180kg"], answer: "5kg", exp:"" },
                { question: "åœ°çƒã¯æœˆã®ä½•å€ã®å¤§ãã•ï¼ˆç›´å¾„ï¼‰ã‚’æŒã¤ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["2å€", "4å€", "6å€", "8å€"], answer: "4å€", exp:"" },
                { question: "æœ€è¿‘è©±é¡Œã¨ãªã£ãŸãƒ¬ãƒ¢ãƒ³å½—æ˜Ÿã¯ã€ä½•ã‹ã‚‰åä»˜ã‘ã‚‰ã‚ŒãŸã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ç™ºè¦‹è€…", "è¦³æ¸¬åœ°", "è‰²", "å½¢"], answer: "è¦³æ¸¬åœ°", exp:"" },
                { question: "88æ˜Ÿåº§ã®ä¸­ã§ã€1ã¤ã®æ˜Ÿåº§ãŒ2ã¤ã®é ˜åŸŸã«åˆ†ã‘ã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ã†ãŠåº§", "ã¦ã‚“ã³ã‚“åº§", "ã¸ã³åº§", "ã—ã—åº§"], answer: "ã¸ã³åº§", exp:"" },
                { question: "ä¸‰å¤§æµæ˜Ÿç¾¤ã¨ã¯ã—ã¶ã‚“ãåº§æµæ˜Ÿç¾¤ã€ãƒšãƒ«ã‚»ã‚¦ã‚¹æµæ˜Ÿç¾¤ã¨ãªã‚“ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ã‚ªãƒªã‚ªãƒ³æµæ˜Ÿç¾¤", "ãŠã†ã—åº§æµæ˜Ÿç¾¤", "ã—ã—åº§æµæ˜Ÿç¾¤", "ãµãŸã”åº§æµæ˜Ÿç¾¤"], answer: "ãµãŸã”åº§æµæ˜Ÿç¾¤", exp:"" },
                { question: "å¤ªé™½ã®è¡¨é¢ã«ã¯ã€Œé»’ç‚¹ã€ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ãŒã€ãã®ç‰¹å¾´ã¨ã—ã¦ã€å½“ã¦ã¯ã¾ã‚‰ãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ", choices: ["è¡¨é¢æ¸©åº¦ãŒå‘¨ã‚Šã‚ˆã‚Šä½ã„", "ç£å ´ãŒå‘¨ã‚Šã‚ˆã‚Šå¼·ã„", "å ´æ‰€ãŒå¤‰ã‚ã‚‹", "ç›´å¾„ç´„500km"], answer: "ç›´å¾„ç´„500km", exp:"" },
                { question: "ä¸€ç­‰æ˜Ÿã¯2ç­‰æ˜Ÿã®ä½•å€ã®æ˜ã‚‹ã•ã‚’ã‚‚ã¤ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ç´„2å€", "ç´„2.5å€", "ç´„5å€", "ç´„10å€"], answer: "ç´„2.5å€", exp:"" },
                { question: "å¤ªé™½é¢¨ã¨ã¯ä½•ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["é¢¨", "ãƒ—ãƒ©ã‚ºãƒ", "å…‰", "åœ§åŠ›"], answer: "ãƒ—ãƒ©ã‚ºãƒ", exp:"" },
                { question: "æ¬¡ã®ã†ã¡ã€æ˜Ÿåº§ã«æã‹ã‚Œã¦ã„ãªã„å‹•ç‰©ã¯ãªã‚“ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ã†ã—", "ã¨ã‚‰", "ã†ã•ã", "ã¸ã³"], answer: "ã¨ã‚‰", exp:"" },
                { question: "å¤©ã®åŒ—æ¥µãŒã‚ã‚‹ã®ã¯ã“ãã¾åº§ã§ã™ãŒã€å¤©ã®å—æ¥µãŒã‚ã‚‹ã®ã¯ä½•åº§ã§ã—ã‚‡ã†ï¼Ÿ", choices: ["ã—ã¶ã‚“ãåº§", "ã‚ãã¶ã‚“ãåº§", "ã¯ã¡ã¶ã‚“ãåº§", "ã˜ã‚…ã†ã¶ã‚“ãåº§"], answer: "ã¯ã¡ã¶ã‚“ãåº§", exp:"" }
            ],
            "4": [
                {
                    question: "å¤ä»£ã‚®ãƒªã‚·ãƒ£èªã§æœ¨æ˜Ÿã®ã“ã¨ã‚’ãªã‚“ã¨å‘¼ã¶ã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ã‚¼ã‚¦ã‚¹", "ã‚¸ãƒ¥ãƒ”ã‚¿ãƒ¼", "ãƒ“ãƒ¼ãƒŠã‚¹", "ã‚¢ãƒ¬ã‚¹"],
                    answer: "ã‚¼ã‚¦ã‚¹",
                    exp:"ã‚¸ãƒ¥ãƒ”ã‚¿ãƒ¼ã¯ãƒ­ãƒ¼ãƒç¥è©±ã«ãŠã‘ã‚‹æœ¨æ˜Ÿã€ãƒ“ãƒ¼ãƒŠã‚¹ã¯ãƒ­ãƒ¼ãƒç¥è©±ã«ãŠã‘ã‚‹é‡‘æ˜Ÿã€ã‚¢ãƒ¬ã‚¹ã¯ã‚®ãƒªã‚·ãƒ£ç¥è©±ã«ãŠã‘ã‚‹ç«æ˜Ÿã«ç›¸å½“ã™ã‚‹ã€‚"
                },
                {
                    question: "æ–°æ½Ÿã‚’æœ¬æ‹ åœ°ã¨ã™ã‚‹ã‚µãƒƒã‚«ãƒ¼ãƒãƒ¼ãƒ ãƒ»é‡çƒãƒãƒ¼ãƒ ã®åç§°ã®ç”±æ¥ã«ã‚‚ãªã£ã¦ã„ã‚‹ã€æ©™è‰²ã¨é’è‰²ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãŒç¾ã—ã„ã¯ãã¡ã‚‡ã†åº§ã®äºŒé‡æ˜Ÿã¯ãªã‚“ã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ãƒ‡ãƒãƒ–", "ã‚¢ãƒ«ãƒ“ãƒ¬ã‚ª", "ã‚¢ãƒ«ã‚³ãƒ«", "ãƒ‡ãƒãƒœãƒ©"],
                    answer: "ã‚¢ãƒ«ãƒ“ãƒ¬ã‚ª",
                    exp:"é»„è‰²ã«è¼ãæ˜ŸãŒã‚¢ãƒ«ãƒ“ãƒ¬ã‚ªAã€é’è‰²ã«è¼ãæ˜ŸãŒã‚¢ãƒ«ãƒ“ãƒ¬ã‚ªBã¨å‘¼ã°ã‚Œã‚‹"
                },
                {
                    question: "å›½æ——ã«æã‹ã‚Œã¦ã„ã‚‹æ˜Ÿã«ã¯ãã‚Œãã‚Œä¸€ã¤ã®å·ãŒå½“ã¦ã‚‰ã‚Œã¦ã„ã‚‹å›½ã¯ã©ã“ã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ãƒ¡ã‚­ã‚·ã‚³", "ä¸­å›½", "ãƒ™ãƒˆãƒŠãƒ ", "ãƒ–ãƒ©ã‚¸ãƒ«"],
                    answer: "ãƒ–ãƒ©ã‚¸ãƒ«",
                    exp:"ãƒ–ãƒ©ã‚¸ãƒ«å›½æ——ã®æ˜Ÿã¯ã€27å€‹ã®æ˜Ÿã§ã€ãã‚Œãã‚Œã®æ˜ŸãŒãƒ–ãƒ©ã‚¸ãƒ«é€£é‚¦ã‚’æ§‹æˆã™ã‚‹26å·ã¨1ã¤ã®é€£é‚¦ç›´è½„åŒºã‚’è¡¨ã—ã¦ã„ã‚‹"
                },
                {
                    question: "ã‹ã¤ã¦æœ€ã‚‚å¤§ããªæ˜Ÿåº§ã§ã‚ã£ãŸã‚¢ãƒ«ã‚´èˆ¹åº§ã¯4ã¤ã«åˆ†å‰²ã•ã‚Œã¾ã—ãŸãŒã€ãã®4ã¤ã®æ˜Ÿåº§ã«å«ã¾ã‚Œãªã„ã®ã¯æ¬¡ã®ã†ã¡ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ã‚‰ã—ã‚“ã°ã‚“åº§", "ãƒãƒ³ãƒ—åº§", "ã»åº§", "ã‚Šã‚…ã†ã“ã¤åº§"],
                    answer: "ãƒãƒ³ãƒ—åº§",
                    exp:"å¤ãã‹ã‚‰å­˜åœ¨ã™ã‚‹æ˜Ÿåº§ã§ã‚ã£ãŸãŒã€å¤§ãã™ããŸãŸã‚å›½éš›å¤©æ–‡å­¦é€£åˆãŒã‚Šã‚…ã†ã“ã¤åº§ã€ã¨ã‚‚åº§ã€ã»åº§ã€ã¦ã‚“ã³ã‚“åº§ã®4ã¤ã«åˆ†å‰²ã—ãŸ"
                },
                {
                    question: "æ¬¡ã®ã†ã¡ã€è·é›¢ãŒæœ€ã‚‚é•·ã„ã‚‚ã®ã¯ã©ã‚Œã‹ã€‚",
                    choices: ["10å„„km", "1ãƒ‘ãƒ¼ã‚»ã‚¯", "1å…‰å¹´", "1å¤©æ–‡å˜ä½"],
                    answer: "1ãƒ‘ãƒ¼ã‚»ã‚¯",
                    exp:"ï¼‘å¤©æ–‡å˜ä½ãŒãŠã‚ˆãï¼‘å„„5000ä¸‡kmã§ã‚ã‚Šã€ï¼‘å…‰å¹´ã¯63000å¤©æ–‡å˜ä½ã€ï¼‘ãƒ‘ãƒ¼ã‚»ã‚¯ã¯3.26å…‰å¹´ã§ã‚ã‚‹"
                },
                {
                    question: "ãƒ©ãƒ†ãƒ³èªã§ç©€ç‰©ã®ç©‚ã®æ„å‘³ã‚’æŒã¤æ˜Ÿã¯ã€æ¬¡ã®ã†ã¡ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ã‚·ãƒªã‚¦ã‚¹", "ãƒ—ãƒ­ã‚­ã‚ªãƒ³", "ã‚¹ãƒ”ã‚«", "ãƒªã‚²ãƒ«"],
                    answer: "ã‚¹ãƒ”ã‚«",
                    exp:"ã‚·ãƒªã‚¦ã‚¹ã¯ã‚®ãƒªã‚·ãƒ£èªã§ã€Œç„¼ãç„¦ãŒã™ã‚‚ã®ã€ã€ãƒ—ãƒ­ã‚­ã‚ªãƒ³ã¯ã‚®ãƒªã‚·ãƒ£èªã§ã€ŒçŠ¬ã®å‰ã«ã€ã€ãƒªã‚²ãƒ«ã¯ã‚¢ãƒ©ãƒ“ã‚¢èªã§ã€Œå·¨äººã®è¶³ã€ã¨ã„ã†æ„å‘³ã§ã‚ã‚‹ã€‚"
                },
                {
                    question: "å¤©æ–‡å˜ä½(au)ã«ã¤ã„ã¦ã€é–“é•ã£ãŸèª¬æ˜æ–‡ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["å¤ªé™½-å†¥ç‹æ˜Ÿé–“ã¯ç´„5auã¨è¡¨ã•ã‚Œã‚‹", "åœ°çƒ-å¤ªé™½é–“ã®å¹³å‡è·é›¢ã«ç”±æ¥ã™ã‚‹å˜ä½ã§ã‚ã‚‹", "1auã‚’ç´„1å„„5000kmã¨ã™ã‚‹è·é›¢ã®å˜ä½ã§ã‚ã‚‹", "auã¨ã¯ã€astronomical unitã®ç•¥ç§°ã§ã‚ã‚‹"],
                    answer: "å¤ªé™½-å†¥ç‹æ˜Ÿé–“ã¯ç´„5auã¨è¡¨ã•ã‚Œã‚‹",
                    exp:"å¤ªé™½-å†¥ç‹æ˜Ÿé–“ã¯ç´„40auã§ã‚ã‚‹ã€‚5auã¯å¤ªé™½ã¨æœ¨æ˜Ÿã®è·é›¢ã«ç›¸å½“ã™ã‚‹"
                },
                {
                    question: "å®‡å®™ç·šã®ä¸»æˆåˆ†ã¯ä½•ã‹ã€‚",
                    choices: ["é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®é›»å­", "é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®é™½å­", "é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®ã‚¢ãƒ«ãƒ•ã‚¡ç²’å­", "é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®ã‚¬ãƒ³ãƒç·š"],
                    answer: "é«˜ã‚¨ãƒãƒ«ã‚®ãƒ¼ã®é™½å­",
                    exp:"é™½å­ãŒå®‡å®™ç·šã®ç´„ä¹å‰²ã‚’å ã‚ã¦ã„ã‚‹ã€‚"
                },
                {
                    question: "åœ°çƒã®é‡åŠ›ã‚’æŒ¯ã‚Šåˆ‡ã£ã¦é€²ã‚€ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚‹ã€Œç¬¬äºŒå®‡å®™é€Ÿåº¦ã€ã®å€¤ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ç´„7.9km/s", "ç´„9.8km/s", "ç´„11.2km/s", "ç´„16.7km/s"],
                    answer: "ç´„11.2km/s",
                    exp:"å®‡å®™é€Ÿåº¦ã¨ã‚‚å‘¼ã°ã‚Œã‚‹"
                },
                {
                    question: "æ¬¡ã«æ—¥æœ¬ã§çš†æ—¢æ—¥é£ŸãŒè¦‹ã‚‰ã‚Œã‚‹ã¨äºˆæƒ³ã•ã‚Œã¦ã„ã‚‹æ—¥ã¯æ¬¡ã®ã†ã¡ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["2031å¹´5æœˆ21æ—¥", "2032å¹´11æœˆ3æ—¥", "2035å¹´9æœˆ2æ—¥", "2117å¹´12æœˆ11æ—¥"],
                    answer: "2035å¹´9æœˆ2æ—¥",
                    exp:"åŒ—é™¸åœ°æ–¹ã‹ã‚‰åŒ—é–¢æ±ã«ã‹ã‘ã¦è¦³æ¸¬å¯èƒ½ã¨ã•ã‚Œã¦ã„ã‚‹"
                }
            ],
            "5": [
                { 
                    question: "å¤ªé™½ç³»ã®æƒ‘æ˜Ÿã®ä¸­ã§å…¬è»¢å‘¨æœŸã®é›¢å¿ƒç‡ãŒæœ€ã‚‚å¤§ãã„ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["æ°´æ˜Ÿ", "é‡‘æ˜Ÿ", "æµ·ç‹æ˜Ÿ", "ç«æ˜Ÿ"],
                    answer: "æ°´æ˜Ÿ",
                    exp:"é›¢å¿ƒç‡ã¨ã¯æ›²ç·šã®ç‰¹å¾´ã‚’è¡¨ã™æ•°å€¤ã§ã‚ã‚Šã€0ãªã‚‰ã°å®Œå…¨ãªå††ã€€0ä»¥ä¸Šï¼‘ä»¥ä¸‹ãªã‚‰ã°æ¥•å††ã‚’è¡¨ã™ã€‚ãã‚Œãã‚Œã®é›¢å¿ƒç‡ã¯æ°´æ˜ŸãŒ0.205,é‡‘æ˜Ÿã¯0.0068ã€æµ·ç‹æ˜ŸãŒ0.009ã€ç«æ˜Ÿã¯0.093ã§ã‚ã‚‹ã€‚"
                },
                {
                    question: "æ­³å·®é‹å‹•ã«ã‚ˆã£ã¦åŒ—æ¥µæ˜Ÿã¯ç§»ã‚Šå¤‰ã‚ã£ã¦ã„ãã¾ã™ã€‚æ¬¡ã®ã†ã¡ã€åŒ—æ¥µæ˜Ÿã®å½¹å‰²ã¨ãªã‚‰ãªã„æ˜Ÿã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ãƒ™ã‚¬", "ãƒ‡ãƒãƒ–", "ãƒãƒ©ãƒªã‚¹", "ã‚¢ãƒ«ãƒ‡ãƒãƒ©ãƒ³"],
                    answer: "ã‚¢ãƒ«ãƒ‡ãƒãƒ©ãƒ³",
                    exp:"ãƒãƒ©ãƒªã‚¹ãŒç¾åœ¨ã®åŒ—æ¥µæ˜Ÿã§ã‚ã‚Šã€ç´„8300å¹´å¾Œã«ãƒ‡ãƒãƒ–ã€ç´„12000å¹´å¾Œã«ãƒ™ã‚¬ãŒåŒ—æ¥µæ˜Ÿã«ãªã‚‹ã€‚"
                },
                {
                    question: "ãƒ‹ã‚³ãƒ©ã‚¦ã‚¹ãƒ»ã‚³ãƒšãƒ«ãƒ‹ã‚¯ã‚¹ã«ã¤ã„ã¦ã®é–“é•ã£ãŸèª¬æ˜æ–‡ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ãƒãƒ¼ãƒ©ãƒ³ãƒ‰å‡ºèº«ã§ã‚ã‚‹", "ã€Œå¤©çƒã®å›è»¢ã«ã¤ã„ã¦ã€ã®è‘—è€…ã§ã‚ã‚Šã€åœ°å‹•èª¬ã‚’å”±ãˆãŸ", "å¤©å‹•èª¬ã‚’å¦å®šã—ãŸãŸã‚ã€ã‚«ãƒˆãƒªãƒƒã‚¯æ•™ä¼šã®å®—æ•™è£åˆ¤ã«ã‹ã‘ã‚‰ã‚ŒãŸ", "ãƒ¨ãƒ¼ãƒ­ãƒƒãƒ‘ãƒ«ãƒã‚µãƒ³ã‚¹æ™‚ä»£ã®å¤©æ–‡å­¦è€…ã§ã‚ã‚‹"],
                    answer: "å¤©å‹•èª¬ã‚’å¦å®šã—ãŸãŸã‚ã€ã‚«ãƒˆãƒªãƒƒã‚¯æ•™ä¼šã®å®—æ•™è£åˆ¤ã«ã‹ã‘ã‚‰ã‚ŒãŸ",
                    exp:"ã‚³ãƒšãƒ«ãƒ‹ã‚¯ã‚¹ã¯åœ°å‹•èª¬ã‚’å”±ãˆãŸãŒã€å®—æ•™è£åˆ¤ã«ã¯ã‹ã‘ã‚‰ã‚Œã¦ã„ãªã„ã€‚"
                },
                {
                    question: "ä¸–ç•Œã§åˆã‚ã¦æœˆã«è»Ÿç€é™¸ã‚’ã—ãŸæœˆæ¢æŸ»æ©Ÿã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ãƒ«ãƒŠ2å·", "ãƒ«ãƒŠ9å·", "ã‚¢ãƒãƒ­8å·", "ã‚¢ãƒãƒ­9å·"],
                    answer: "ãƒ«ãƒŠ9å·",
                    exp:"ãƒ«ãƒŠï¼’å·ã¯æœˆé¢ã«è¡çªã€ã‚¢ãƒãƒ­8å·ã¯æœˆé¢ã®è£ã‚’ç¢ºèªã€ã‚¢ãƒãƒ­9å·ã¯å²ä¸Šåˆã®ãƒ‰ãƒƒã‚­ãƒ³ã‚°ã‚’è¡Œã£ãŸã€‚"
                },
                {
                    question: "ä¸–ç•Œã§åˆã‚ã¦æœ‰äººã§ã®æœˆé¢ç€é™¸ã«æˆåŠŸã—ãŸæœˆæ¢æŸ»æ©Ÿã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ãƒ«ãƒŠ9å·", "ã‹ãã‚„", "ã‚¢ãƒãƒ­8å·", "ã‚¢ãƒãƒ­11å·"],
                    answer: "ã‚¢ãƒãƒ­11å·",
                    exp:"ãƒ«ãƒŠ9å·ã¯ç„¡äººã§ã®æœˆé¢ç€é™¸ã§ã‚ã‚‹ã€‚ã‹ãã‚„ã¯2007å¹´ã«æ‰“ã¡ä¸Šã’ã‚‰ã‚ŒãŸæ¯”è¼ƒçš„æ–°ã—ã„æ¢æŸ»æ©Ÿã§ã‚ã‚‹ã€‚ã‚¢ãƒãƒ­8å·ã¯æœˆé¢ã‚’å‘¨å›ã—ãŸã€‚"
                },
                {
                    question: "å„å›½ã®æœˆæ¢æŸ»æ©Ÿã®åå‰ã§ã€æœˆãŒç”±æ¥ã«ãªã£ã¦ã„ãªã„ã‚‚ã®ã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿï¼Ÿ",
                    choices: ["ä¸­å›½ã®å«¦å¨¥", "ãƒ­ã‚·ã‚¢ã®ãƒ«ãƒŠ", "ã‚¤ãƒ³ãƒ‰ã®ãƒãƒ£ãƒ³ãƒ‰ãƒ©ãƒ¤ãƒ¼ãƒ³", "ã‚¢ãƒ¡ãƒªã‚«ã®ã‚¢ãƒãƒ­"],
                    answer: "ã‚¢ãƒ¡ãƒªã‚«ã®ã‚¢ãƒãƒ­",
                    exp:"å«¦å¨¥(ã˜ã‚‡ã†ãŒ)ã¯ä¸­å›½ç¥è©±ã®æœˆç¥ã«ç”±æ¥ã™ã‚‹ã€‚ãƒ«ãƒŠã¯ãƒ­ãƒ¼ãƒç¥è©±ã®æœˆã®ç¥ã§ã‚ã‚‹ã€‚ãƒãƒ£ãƒ³ãƒ‰ãƒ©ãƒ¤ãƒ¼ãƒ³ã¯ã‚µãƒ³ã‚¹ã‚¯ãƒªãƒƒãƒˆèªã§æœˆã®ä¹—ã‚Šç‰©ã¨ã„ã†æ„å‘³ã§ã‚ã‚‹ã€‚"
                },
                {
                    question: "æ¬¡ã®ã†ã¡ã€æœ€ã‚‚å…¬è»¢å‘¨æœŸã®çŸ­ã„å½—æ˜Ÿã¯ã©ã‚Œã§ã—ã‚‡ã†ï¼Ÿï¼Ÿ",
                    choices: ["ãƒ˜ãƒ¼ãƒ«ãƒ»ãƒœãƒƒãƒ—å½—æ˜Ÿ", "ã‚¨ãƒ³ã‚±å½—æ˜Ÿ", "ãƒ¬ãƒ¢ãƒ³å½—æ˜Ÿ", "ã‚¹ãƒ¯ãƒ³å½—æ˜Ÿ"],
                    answer: "ã‚¨ãƒ³ã‚±å½—æ˜Ÿ",
                    exp:"ãã‚Œãã‚Œã®å…¬è»¢å‘¨æœŸã¯ã€ãƒ˜ãƒ¼ãƒ«ãƒ»ãƒœãƒƒãƒ—å½—æ˜ŸãŒ4200å¹´ã€ã‚¨ãƒ³ã‚±å½—æ˜Ÿã¯3.3å¹´ã€ãƒ¬ãƒ¢ãƒ³å½—æ˜ŸãŒ1350å¹´ã€ã‚¹ãƒ¯ãƒ³å½—æ˜Ÿã¯20,000å¹´ä»¥ä¸Šã¨æ¨å®šã•ã‚Œã¦ã„ã‚‹ã€‚"
                },
                {
                    question: "ç¾åœ¨ã€æ˜Ÿç©ºä¿è­·åŒºã«èªå®šã•ã‚Œã¦ã„ãªã„å ´æ‰€ã¯ã©ã“ã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["ç¥æ´¥å³¶(æ±äº¬)", "å—å…­å‘‚å¸«(ç¦äº•)", "è¥¿è¡¨çŸ³å£å›½ç«‹å…¬åœ’(æ²–ç¸„)", "é˜¿æ™ºæ‘(é•·é‡)"],
                    answer: "é˜¿æ™ºæ‘(é•·é‡)",
                    exp:"2025å¹´æ™‚ç‚¹ã§ã€è¥¿è¡¨çŸ³å£å›½ç«‹å…¬åœ’ã€€ç¥æ´¥å³¶ã€€äº•åŸå¸‚ç¾æ˜Ÿç”ºã€€å¤§é‡å¸‚å—å…­å‘‚å¸«ã‚¨ãƒªã‚¢ã®4ã¤ãŒæ˜Ÿç©ºä¿è­·åŒºã«æŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã€‚"
                },
                {
                    question: "æ’æ˜Ÿã®æœ€å¾Œã®å§¿ã¨ã—ã¦æœ‰åãªã€Œè¶…æ–°æ˜Ÿçˆ†ç™ºæ®‹éª¸ã€ã§ã™ãŒã€ã€Œè¶…æ–°æ˜Ÿçˆ†ç™ºã€ã‚’èµ·ã“ã™ã‹èµ·ã“ã•ãªã„ã‹ã®å¢ƒç›®ã«ãªã‚‹ã®ã¯å¤ªé™½è³ªé‡(å¤ªé™½ã®è³ªé‡ã‚’1ã¨ã—ãŸã¨ã)ã®ä½•å€ã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["4å€", "8å€", "16å€", "32å€"],
                    answer: "8å€",
                    exp:"é‡åŠ›å´©å£Šå‹è¶…æ–°æ˜Ÿçˆ†ç™ºã‚’èµ·ã“ã™ã®ã«å¿…è¦ãªè³ªé‡ã¯6-10å€ã ã¨ã•ã‚Œã¦ã„ã‚‹ã€‚"
                },
                {
                    question: "æœ€åˆã«å›½ç”£ã®åå°„æœ›é é¡ã‚’ä½œã£ãŸã®ã¯èª°ã§ã—ã‚‡ã†ï¼Ÿ",
                    choices: ["å²©æ©‹å–„å…µè¡›", "æ£®ä»å·¦è¡›é–€", "ä¼Šèƒ½å¿ æ•¬", "å›½å‹è—¤å…µè¡›"],
                    answer: "å›½å‹è—¤å…µè¡›",
                    exp:"å›½å‹è—¤å…µè¡›ã¯ä»–ã«ã‚‚å®Ÿç”¨ç©ºæ°—éŠƒã‚’ä½œæˆã—ã¦ãŠã‚Šæ±Ÿæˆ¸æ™‚ä»£ã®ã‚¨ã‚¸ã‚½ãƒ³ã¨ã‚‚å‘¼ã°ã‚Œã‚‹"
                }
            ]
        };

        // --- 2. ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° ---
        // ã‚¯ã‚¤ã‚ºã®çŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹å¤‰æ•°ï¼ˆä¸­èº«ãŒå¤‰ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼‰
        let currentQuestionIndex = 0; // ç¾åœ¨ã€ç¬¬ä½•å•ç›®ã‹ (0ã‹ã‚‰ã‚¹ã‚¿ãƒ¼ãƒˆ)
        let score = 0;                // ç¾åœ¨ã®æ­£è§£æ•°
        let quizActive = false;       // ã‚¯ã‚¤ã‚ºãŒå›ç­”å¯èƒ½çŠ¶æ…‹ã‹ (true=ã¯ã„, false=ã„ã„ãˆ)
        let shuffledQuizData = [];    // å‡ºé¡Œé †ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ãŸã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã‚‹é…åˆ—
        let selectedQuizData = [];    // é¸æŠã•ã‚ŒãŸé›£æ˜“åº¦ã®ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’å…¥ã‚Œã‚‹é…åˆ—
        let currentLevel = '1';       // ç¾åœ¨é¸æŠã•ã‚Œã¦ã„ã‚‹é›£æ˜“åº¦ãƒ¬ãƒ™ãƒ«
		let startTime = 0;            // ã‚¿ã‚¤ãƒ è¨ˆæ¸¬é–‹å§‹æ™‚é–“ 

        // --- 3. DOMè¦ç´ ã®å–å¾— ---
        // HTMLã®å„éƒ¨å“ï¼ˆãƒœã‚¿ãƒ³ã‚„ç”»é¢ãªã©ï¼‰ã‚’JavaScriptã§æ“ä½œã§ãã‚‹ã‚ˆã†ã«ã€å¤‰æ•°ã«å…¥ã‚Œã¾ã™ã€‚
        const homeButton = document.getElementById('home-button');
        const difficultySelectScreen = document.getElementById('difficulty-select-screen');
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const expScreen = document.getElementById('exp-screen');
        const resultScreen = document.getElementById('result-screen');
        const startButton = document.getElementById('start-button');
        const nextButton = document.getElementById('next-button');
        const scoreDisplay = document.getElementById('score-display');
        const questionNumber = document.getElementById('question-number');
        const questionArea = document.getElementById('question-area');
        const choicesArea = document.getElementById('choices-area');
        const feedbackArea = document.getElementById('feedback-area');
        const answerArea = document.getElementById('answer-area');
        const expArea = document.getElementById('exp-area');
        const resultTitle = document.getElementById('result-title');
        const finalScoreText = document.getElementById('final-score-text');
        const mainTitle = document.querySelector('#quiz-container h1');
        const startScreenTitle = document.getElementById('start-screen').querySelector('h2');
		const showRankingButton = document.getElementById('show-ranking-button');
		const rankingDisplayArea = document.getElementById('ranking-display-area');
		const shareButton = document.getElementById('share-button');
		


        // --- 4. é–¢æ•°å®šç¾© ---
        // function é–¢æ•°å() { ... }: å‡¦ç†ã‚’ã²ã¨ã¾ã¨ã‚ã«ã—ãŸã€Œé–¢æ•°ã€ã‚’å®šç¾©ã—ã¾ã™ã€‚

        /**
         * @function selectDifficulty
         * @description é›£æ˜“åº¦ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
         * @param {string} level - é¸æŠã•ã‚ŒãŸé›£æ˜“åº¦ãƒ¬ãƒ™ãƒ« (ä¾‹: '1')
         */
        function selectDifficulty(level) {
            // 1. é¸ã°ã‚ŒãŸãƒ¬ãƒ™ãƒ«ã‚’ä¿å­˜
            currentLevel = level;
            // 2. ãã®ãƒ¬ãƒ™ãƒ«ã®å•é¡Œãƒ‡ãƒ¼ã‚¿ã‚’ allQuizData ã‹ã‚‰å–ã‚Šå‡ºã™
            selectedQuizData = allQuizData[currentLevel];

            // 3. ã‚¿ã‚¤ãƒˆãƒ«ã‚„ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’æ›´æ–°
            mainTitle.textContent = `å¤©æ–‡ã‚¯ã‚¤ã‚ºãƒ¬ãƒ™ãƒ«${currentLevel}`;
            const totalQuestions = selectedQuizData.length;
            startScreenTitle.textContent = `å…¨${totalQuestions}å•ï¼å®‡å®™ã®çŸ¥è­˜ã‚’è©¦ãã†ï¼`;
            scoreDisplay.textContent = `ã‚¹ã‚³ã‚¢: 0 / ${totalQuestions}`;

            // 4. ç”»é¢ã‚’åˆ‡ã‚Šæ›¿ãˆï¼ˆé›£æ˜“åº¦é¸æŠ â†’ ã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ï¼‰
            difficultySelectScreen.classList.add('hidden');
            startScreen.classList.remove('hidden');
            homeButton.classList.remove('hidden');
            
			// 5. ã‚‚ã—ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãŒé–‹ã„ã¦ã„ãŸã‚‰ã€é–‰ã˜ã‚‹
            const isRankingVisible = !rankingDisplayArea.classList.contains('hidden');
            if (isRankingVisible) {
                closeRankingDisplay();
            }
        }

        /**
         * @function handleHomeClick
         * @description HOMEãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
         */
        function handleHomeClick() {
            // ã‚¯ã‚¤ã‚ºï¼ˆå•é¡Œç”»é¢ or è§£èª¬ç”»é¢ï¼‰ãŒé€²è¡Œä¸­ã‹ãƒã‚§ãƒƒã‚¯
            const isQuizInProgress = !quizScreen.classList.contains('hidden') || !expScreen.classList.contains('hidden');

            // ã‚‚ã—ã‚¯ã‚¤ã‚ºé€²è¡Œä¸­ãªã‚‰ã€ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’å‡ºã™
            if (isQuizInProgress) {
                if (confirm("ã‚¯ã‚¤ã‚ºã®é€²è¡Œåº¦ã¯å¤±ã‚ã‚Œã¾ã™ã€‚ãã‚Œã§ã‚‚ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚Šã¾ã™ã‹ï¼Ÿ")) {
                    returnToHome(); // ã€ŒOKã€ãªã‚‰HOMEã«æˆ»ã‚‹
                }
            } else {
                // ã‚¯ã‚¤ã‚ºä¸­ã§ãªã‘ã‚Œã°ï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ã‚„çµæœç”»é¢ï¼‰ã€ç¢ºèªãªã—ã§HOMEã«æˆ»ã‚‹
                returnToHome();
            }
        }

        /**
         * @function returnToHome
         * @description çŠ¶æ…‹ã‚’ã™ã¹ã¦ãƒªã‚»ãƒƒãƒˆã—ã€æœ€åˆã®é›£æ˜“åº¦é¸æŠç”»é¢ã«æˆ»ã‚‹
         */
        function returnToHome() {
            // 1. ã™ã¹ã¦ã®ç”»é¢ã‚’éè¡¨ç¤ºã«ã™ã‚‹
            startScreen.classList.add('hidden');
            quizScreen.classList.add('hidden');
            expScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');

            // 2. é›£æ˜“åº¦é¸æŠç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹
            difficultySelectScreen.classList.remove('hidden');

            // 3. HOMEãƒœã‚¿ãƒ³è‡ªä½“ã‚’éè¡¨ç¤ºã«ã™ã‚‹
            homeButton.classList.add('hidden');

            // 4. ã‚¿ã‚¤ãƒˆãƒ«ã‚„ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’åˆæœŸçŠ¶æ…‹ã«æˆ»ã™
            mainTitle.textContent = "å¤©æ–‡ã‚¯ã‚¤ã‚º";
            scoreDisplay.textContent = "ã‚¹ã‚³ã‚¢: 0 / 0";
            startScreenTitle.textContent = "å®‡å®™ã®çŸ¥è­˜ã‚’è©¦ãã†ï¼";

            // 5. ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºã‚‚é–‰ã˜ã‚‹
			closeRankingDisplay();
            
            // 6. ã‚¯ã‚¤ã‚ºã®çŠ¶æ…‹ç®¡ç†å¤‰æ•°ã‚’ãƒªã‚»ãƒƒãƒˆ
            currentQuestionIndex = 0;
            score = 0;
            quizActive = false;
            shuffledQuizData = [];
            selectedQuizData = [];
            currentLevel = '1';
        }


        /**
         * @function shuffleArray
         * @description é…åˆ—ã®ä¸­èº«ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å…¥ã‚Œæ›¿ãˆã‚‹ï¼ˆã‚·ãƒ£ãƒƒãƒ•ãƒ«ï¼‰
         * @param {array} array - ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ãŸã„é…åˆ—
         * @returns {array} - ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚ŒãŸæ–°ã—ã„é…åˆ—
         */
        function shuffleArray(array) {
            let newArray = array.slice(); // å…ƒã®é…åˆ—ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æ–°ã—ã„é…åˆ—ã‚’ä½œã‚‹
            // é…åˆ—ã®å¾Œã‚ã‹ã‚‰é †ç•ªã«ã€ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã‚“ã è¦ç´ ã¨å…¥ã‚Œæ›¿ãˆã¦ã„ã
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]]; 
            }
            return newArray; // ã‚·ãƒ£ãƒƒãƒ•ãƒ«å¾Œã®é…åˆ—ã‚’è¿”ã™
        }

        /**
         * @function startGame
         * @description ã‚¯ã‚¤ã‚ºã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
         */
        function startGame() {
            // 1. å•é¡Œã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            shuffledQuizData = shuffleArray(selectedQuizData);
            // 2. å¤‰æ•°ã‚’ãƒªã‚»ãƒƒãƒˆ
            currentQuestionIndex = 0;
            score = 0;
            quizActive = true;
            // 3. ã‚¿ã‚¤ãƒ è¨ˆæ¸¬é–‹å§‹
			startTime = Date.now();
            // 4. ç”»é¢åˆ‡ã‚Šæ›¿ãˆï¼ˆã‚¹ã‚¿ãƒ¼ãƒˆç”»é¢ â†’ ã‚¯ã‚¤ã‚ºç”»é¢ï¼‰
            startScreen.classList.add('hidden');
            resultScreen.classList.add('hidden');
            expScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            
            // 5. æœ€åˆã®å•é¡Œã‚’è¡¨ç¤º
            updateScoreDisplay();
            displayQuestion();
        }

        /**
         * @function updateScoreDisplay
         * @description ç¾åœ¨ã®ã‚¹ã‚³ã‚¢ã‚’ç”»é¢ä¸Šéƒ¨ã®ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚¨ãƒªã‚¢ã«åæ˜ ã™ã‚‹
         */
        function updateScoreDisplay() {
            scoreDisplay.textContent = `ã‚¹ã‚³ã‚¢: ${score} / ${shuffledQuizData.length}`;
        }

        /**
         * @function displayQuestion
         * @description å•é¡Œæ–‡ã¨é¸æŠè‚¢ã‚’ç”»é¢ã«è¡¨ç¤ºã™ã‚‹
         */
        function displayQuestion() {
            // è§£èª¬ç”»é¢ã‚’éš ã—ã€ã‚¯ã‚¤ã‚ºç”»é¢ã‚’è¡¨ç¤º
            expScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            // ã‚‚ã—å…¨å•è§£ãçµ‚ã‚ã£ãŸã‚‰ã€çµæœç”»é¢ã¸
            if (currentQuestionIndex >= shuffledQuizData.length) {
                endGame();
                return;
            }

            // è¡¨ç¤ºã™ã‚‹ç¾åœ¨ã®ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            const currentQuiz = shuffledQuizData[currentQuestionIndex];
            
            // å•é¡Œç•ªå·ã¨å•é¡Œæ–‡ã‚’ç”»é¢ã«ã‚»ãƒƒãƒˆ
            questionNumber.textContent = `å•é¡Œ ${currentQuestionIndex + 1} / ${shuffledQuizData.length}`;
            questionArea.textContent = currentQuiz.question;
            
            // é¸æŠè‚¢ã‚¨ãƒªã‚¢(choicesArea)ã®ä¸­èº«ã‚’ä¸€æ—¦ç©ºã«ã™ã‚‹
            choicesArea.innerHTML = ''; 

            // é¸æŠè‚¢ã®é…åˆ—ã‚’ãƒ«ãƒ¼ãƒ—ã—ã¦ã€ãƒœã‚¿ãƒ³ã‚’1ã¤ãšã¤ä½œæˆ
            currentQuiz.choices.forEach(choice => {
                const button = document.createElement('button');
                button.textContent = choice;
                // Tailwind CSSã®ã‚¯ãƒ©ã‚¹ï¼ˆãƒ‡ã‚¶ã‚¤ãƒ³ï¼‰ã‚’è¨­å®š
                button.classList.add(
                    'choice-button', 'p-4', 'bg-gray-800', 'text-gray-100', 'font-semibold',
                    'rounded-lg', 'text-left', 'shadow-md', 'transition', 'duration-200'
                );
                // ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚‰ checkAnswer é–¢æ•°ã‚’å‘¼ã¶
                button.addEventListener('click', () => checkAnswer(choice, button));
                // ç”»é¢ã«ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
                choicesArea.appendChild(button);
            });
            
            quizActive = true; // å›ç­”å¯èƒ½ãªçŠ¶æ…‹ã«ã™ã‚‹
            feedbackArea.textContent = ''; // æ­£è§£/ä¸æ­£è§£ã®è¡¨ç¤ºã‚’ç©ºã«ã™ã‚‹
        }

        /**
         * @function checkAnswer
         * @description é¸æŠè‚¢ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
         * @param {string} selectedChoice - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé¸ã‚“ã é¸æŠè‚¢ã®æ–‡å­—åˆ—
         * @param {HTMLElement} selectedButton - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæŠ¼ã—ãŸãƒœã‚¿ãƒ³è¦ç´ 
         */
        function checkAnswer(selectedChoice, selectedButton) {
            // é€£æ‰“é˜²æ­¢ï¼ˆå›ç­”ä¸å¯çŠ¶æ…‹ãªã‚‰ä½•ã‚‚ã—ãªã„ï¼‰
            if (!quizActive) return;
            quizActive = false; // å›ç­”ä¸å¯çŠ¶æ…‹ã«ã™ã‚‹

            const currentQuiz = shuffledQuizData[currentQuestionIndex];
            // æ­£è§£(answer)ã¨é¸ã‚“ã é¸æŠè‚¢(selectedChoice)ã‚’æ¯”è¼ƒ
            const isCorrect = selectedChoice === currentQuiz.answer;

            // å…¨ã¦ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã›ãªã„ã‚ˆã†ã«ã—ã€è‰²ã‚’å¤‰æ›´
            Array.from(choicesArea.children).forEach(button => {
                button.disabled = true;
                if (button.textContent === currentQuiz.answer) {
                    // æ­£è§£ã®ãƒœã‚¿ãƒ³ã‚’ç·‘ã«ã™ã‚‹
                    button.classList.add('bg-green-600', 'ring-4', 'ring-green-400');
                    button.classList.remove('bg-gray-800');
                } else if (button === selectedButton && !isCorrect) {
                    // é–“é•ã£ã¦æŠ¼ã—ãŸãƒœã‚¿ãƒ³ã‚’èµ¤ã«ã™ã‚‹
                    button.classList.add('bg-red-600', 'ring-4', 'ring-red-400');
                    button.classList.remove('bg-gray-800');
                }
            });

            if (isCorrect) {
                // æ­£è§£ã ã£ãŸå ´åˆ
                score++;
                feedbackArea.textContent = 'âœ… æ­£è§£ï¼ï¼';
                feedbackArea.classList.remove('text-red-500');
                feedbackArea.classList.add('text-green-500');
            } else {
                // ä¸æ­£è§£ã ã£ãŸå ´åˆ
                feedbackArea.textContent = 'âŒ ä¸æ­£è§£...';
                feedbackArea.classList.remove('text-green-500');
                feedbackArea.classList.add('text-red-500');
            }
            
            updateScoreDisplay(); // ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’æ›´æ–°
            
            // 2ç§’å¾Œï¼ˆ2000ãƒŸãƒªç§’å¾Œï¼‰ã«è§£èª¬ç”»é¢ã¸
            setTimeout(showExplanation, 2000);
        }

        /**
         * @function showExplanation
         * @description è§£èª¬ç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹
         */
        function showExplanation(){
            const currentQuiz = shuffledQuizData[currentQuestionIndex];
            
            // æ­£è§£ã®ç­”ãˆã‚’ç”»é¢ã«ã‚»ãƒƒãƒˆ
            answerArea.textContent = currentQuiz.answer;
            // allQuizData ã‹ã‚‰è§£èª¬æ–‡(exp)ã‚’å–ã‚Šå‡ºã™
            // ã‚‚ã—è§£èª¬æ–‡ãŒç©º(null ã‚„ "")ãªã‚‰ã€ã€Œè§£èª¬ã¯æº–å‚™ä¸­ã§ã™ã€‚ã€ã¨è¡¨ç¤º
            expArea.textContent = currentQuiz.exp || 'è§£èª¬ã¯æº–å‚™ä¸­ã§ã™ã€‚'; 
            
            // ç”»é¢åˆ‡ã‚Šæ›¿ãˆï¼ˆã‚¯ã‚¤ã‚ºç”»é¢ â†’ è§£èª¬ç”»é¢ï¼‰
            quizScreen.classList.add('hidden');
            expScreen.classList.remove('hidden');
        }

        /**
         * @function nextQuestion
         * @description ã€Œæ¬¡ã¸é€²ã‚€ã€ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã®å‡¦ç†
         */
        function nextQuestion() {
            expScreen.classList.add('hidden');
            currentQuestionIndex++; // å•é¡Œç•ªå·ã‚’1å¢—ã‚„ã™
            displayQuestion(); // æ¬¡ã®å•é¡Œã‚’è¡¨ç¤º
        }

        /**
         * @function endGame
         * @description å…¨å•çµ‚äº†æ™‚ã®å‡¦ç†ï¼ˆçµæœè¡¨ç¤ºã¨ã‚¹ã‚³ã‚¢é€ä¿¡ï¼‰
         */
        function endGame() {
            // ç”»é¢åˆ‡ã‚Šæ›¿ãˆï¼ˆã‚¯ã‚¤ã‚ºç”»é¢ â†’ çµæœç”»é¢ï¼‰
            quizScreen.classList.add('hidden');
            expScreen.classList.add('hidden');
            resultScreen.classList.remove('hidden');
            
			// 1. ã‚¿ã‚¤ãƒ è¨ˆæ¸¬çµ‚äº†ï¼†ç§’ã«å¤‰æ›
            const endTime = Date.now();
			const clearTime = (endTime - startTime) / 1000;
            // 2. ã‚¿ã‚¤ãƒ ã‚’ã€ŒXåˆ†Yç§’ã€ã®å½¢å¼ã«å¤‰æ›
			const formattedTime = formatTime(clearTime);
            const total = shuffledQuizData.length;
            
            // 3. ã‚¹ã‚³ã‚¢ã«å¿œã˜ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤‰æ›´
            let titleText = "";
            if (score === total) {
                titleText = "æº€ç‚¹ï¼Perafectï¼";
            } else if (score >= total * 0.7) {
                titleText = "7å‰²è¶Šãˆï¼ã™ã”ã„ï¼ï¼";
            } else {
                titleText = "å†åº¦æŒ‘æˆ¦ï¼!";
            }
            
            // 4. çµæœã‚’ç”»é¢ã«è¡¨ç¤º
            resultTitle.textContent = titleText; 
            finalScoreText.textContent = `${score} / ${total} (${formattedTime})`; 
            scoreDisplay.textContent = `æœ€çµ‚ã‚¹ã‚³ã‚¢: ${score} / ${total}`;
			
			// 5.ã‚·ã‚§ã‚¢ã™ã‚‹ãƒ†ã‚­ã‚¹ãƒˆã‚’ç”Ÿæˆ
            const shareText = `å¤©æ–‡ã‚¯ã‚¤ã‚ºğŸš€ (ãƒ¬ãƒ™ãƒ«${currentLevel}) ã§ ${score} / ${total} å•æ­£è§£ã—ã¾ã—ãŸï¼ (ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ : ${formattedTime}) ï¼–å·é¤¨4éšã§ãƒ—ãƒ©ãƒã‚¿ãƒªã‚¦ãƒ ã‚‚é–‹å‚¬ä¸­â­ï¸#åƒè‘‰å·¥å¤§ ï¼ƒå¤©æ–‡ç ”ç©¶éƒ¨ #æ´¥ç”°æ²¼ç¥­ #ç¬¬76å›æ´¥ç”°æ²¼ç¥­`;

            //  Xã®ã‚·ã‚§ã‚¢URLï¼ˆWeb Intentï¼‰ã‚’ä½œæˆ
            // encodeURIComponent() ã¯ã€ãƒ†ã‚­ã‚¹ãƒˆã‚„URLã‚’ãƒ„ã‚¤ãƒ¼ãƒˆã§å®‰å…¨ã«ä½¿ãˆã‚‹ã‚ˆã†ã«å¤‰æ›ã—ã¾ã™
            const twitterIntentUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(shareText)}`;

            // HTMLã® <a id="share-button"> ã® href å±æ€§ã‚’è¨­å®š
            shareButton.href = twitterIntentUrl;

            // --- 6. ãƒ©ãƒ³ã‚­ãƒ³ã‚°é€ä¿¡å‡¦ç† ---
            // 0.5ç§’å¾…ã£ã¦ã‹ã‚‰ã€åå‰å…¥åŠ›ã¨ã‚¹ã‚³ã‚¢é€ä¿¡å‡¦ç†ã‚’é–‹å§‹
            setTimeout(() => {
                const userName = prompt("ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã«ç™»éŒ²ã™ã‚‹åå‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼ˆã‚­ãƒ£ãƒ³ã‚»ãƒ«å¯ï¼‰", "åç„¡ã—ã®å®‡å®™åšå£«");
                
                // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒåå‰ã‚’å…¥åŠ›ã—ãŸå ´åˆ (ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã‚„ç©ºæ¬„ã§ãªã„å ´åˆ)
                if (userName) {
                    // é€ä¿¡ã™ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ
                    const postData = {
                        name: userName,
                        score: score,
                        level: currentLevel, // ç¾åœ¨ã®ãƒ¬ãƒ™ãƒ«
                        time: clearTime      // ã‚¯ãƒªã‚¢ã‚¿ã‚¤ãƒ (ç§’)
                    };

                    alert("ã‚¹ã‚³ã‚¢ã‚’é€ä¿¡ã—ã¦ã„ã¾ã™...");

                    // fetch APIã‚’ä½¿ã£ã¦GASã«ãƒ‡ãƒ¼ã‚¿ã‚’é€ä¿¡(POST)
                    fetch(GAS_WEB_APP_URL, {
                        method: 'POST',
                        mode: 'cors',
                        headers: {
                            'Content-Type': 'text/plain;charset=utf-8',
                        },
                        body: JSON.stringify(postData)
                    })
                    .then(response => response.json()) // GASã‹ã‚‰ã®è¿”äº‹ã‚’JSONã¨ã—ã¦å—ã‘å–ã‚‹
                    .then(data => {
                        // é€ä¿¡æˆåŠŸ
                        if (data.status === 'success') {
                            alert(`${userName}ã•ã‚“ (ãƒ¬ãƒ™ãƒ«${data.level}) ã®ã‚¹ã‚³ã‚¢ã€Œ${data.score}ç‚¹ / ${formattedTime}ã€ã‚’ç™»éŒ²ã—ã¾ã—ãŸï¼`);
                        } else {
                            throw new Error(data.message);
                        }
                    })
                    .catch(error => {
                        // é€ä¿¡å¤±æ•—
                        console.error('ã‚¹ã‚³ã‚¢é€ä¿¡ã‚¨ãƒ©ãƒ¼:', error);
                        alert('ã‚¹ã‚³ã‚¢ã®ç™»éŒ²ã«å¤±æ•—ã—ã¾ã—ãŸã€‚\n' + error.message);
                    });
                }
            }, 500); 
        }

        /**
         * @function formatTime
         * @description ç§’æ•°ã‚’ã€ŒXåˆ†Yç§’ã€ã®æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹
         * @param {number} totalFloatSeconds - åˆè¨ˆç§’æ•° (ä¾‹: 125.23)
         * @returns {string} - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã•ã‚ŒãŸæ™‚é–“ (ä¾‹: "2åˆ†5ç§’")
         */
		function formatTime(totalFloatSeconds) {
            const totalIntSeconds = Math.floor(totalFloatSeconds);
            const minutes = Math.floor(totalIntSeconds / 60); // åˆ†ã‚’è¨ˆç®—
            const seconds = totalIntSeconds % 60; // æ®‹ã‚Šã®ç§’ã‚’è¨ˆç®—

            if (minutes > 0) {
                return `${minutes}åˆ†${seconds}ç§’`; // 1åˆ†ä»¥ä¸Šã®å ´åˆ
            } else {
                return `${seconds}ç§’`; // 1åˆ†æœªæº€ã®å ´åˆ
            }
        }
		
        /**
         * @function displayRanking
         * @description ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®ãƒ¡ã‚¤ãƒ³ãƒœã‚¿ãƒ³ï¼ˆè¡¨ç¤º/éè¡¨ç¤ºï¼‰å‡¦ç†
         */
        function displayRanking() {
            // ç¾åœ¨ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ï¼Ÿ
            if (!rankingDisplayArea.classList.contains('hidden')) {
                // --- æ—¢ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹å ´åˆ â†’ é–‰ã˜ã‚‹
                closeRankingDisplay();
            } else {
                // --- éè¡¨ç¤ºã®å ´åˆ â†’ é–‹ã
                // ã¾ãšçµæœè¡¨ç¤ºã‚’éš ã—ã€ãƒ¬ãƒ™ãƒ«é¸æŠç”»é¢ã‚’è¡¨ç¤º
                showLevelSelect();
                // ã‚¨ãƒªã‚¢å…¨ä½“ã‚’è¡¨ç¤º
                rankingDisplayArea.classList.remove('hidden');
                // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã€Œé–‰ã˜ã‚‹ã€ã«å¤‰æ›´
                showRankingButton.innerHTML = 'ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’é–‰ã˜ã‚‹';
            }
        }

        /**
         * @function fetchAndDisplayRanking
         * @description æŒ‡å®šã•ã‚ŒãŸãƒ¬ãƒ™ãƒ«ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’GASã‹ã‚‰å–å¾—(GET)ã—ã¦è¡¨ç¤ºã™ã‚‹
         * @param {string} level - å–å¾—ã—ãŸã„ãƒ¬ãƒ™ãƒ« ('1', '2', ...)
         */
        function fetchAndDisplayRanking(level) {
            const levelSelectArea = document.getElementById('ranking-level-select');
            const resultDisplayArea = document.getElementById('ranking-result-display');

            // 1. ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
            resultDisplayArea.innerHTML = `<p class="text-center">ãƒ¬ãƒ™ãƒ« ${level} ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’èª­ã¿è¾¼ã¿ä¸­...</p>`;
            
            // 2. ç”»é¢åˆ‡ã‚Šæ›¿ãˆï¼ˆãƒ¬ãƒ™ãƒ«é¸æŠ â†’ çµæœè¡¨ç¤ºï¼‰
            levelSelectArea.classList.add('hidden');
            resultDisplayArea.classList.remove('hidden');

            // 3. fetch APIã‚’ä½¿ã£ã¦GASã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—(GET)
            // (GASã®URLã« ?level=1 ã®ã‚ˆã†ã«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ã‘ã¦é€ã‚‹)
            fetch(GAS_WEB_APP_URL + "?level=" + level) 
                .then(response => response.json()) // ãƒ‡ãƒ¼ã‚¿ã‚’JSONã¨ã—ã¦å—ã‘å–ã‚‹
                .then(data => {
                    // 4. å–å¾—æˆåŠŸ
                    if (data.status === 'error') {
                        throw new Error(data.message);
                    }
                    
                    // 5. è¡¨ç¤ºã™ã‚‹HTMLã‚’çµ„ã¿ç«‹ã¦ã‚‹
                    let html = `<h3 class="text-xl font-bold text-yellow-400 text-center mb-3">ğŸ† ãƒ¬ãƒ™ãƒ« ${level} TOP 10 ğŸ†</h3>`;
                    
                    if (data.length === 0) {
                        // ãƒ‡ãƒ¼ã‚¿ãŒ0ä»¶ã®å ´åˆ
                        html += '<p class="text-center">ã¾ã ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚</p>';
                    } else {
                        // ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹å ´åˆ
                        html += '<ol class="list-decimal list-inside space-y-2">';
                        data.forEach((item, index) => {
                            let medal = '';
                            if(index === 0) medal = 'ğŸ¥‡';
                            if(index === 1) medal = 'ğŸ¥ˆ';
                            if(index === 2) medal = 'ğŸ¥‰';
                            
                            const formattedTime = formatTime(item.time);
                            html += `<li>${medal} <strong>${item.name}</strong>: ${item.score}ç‚¹ (${formattedTime})</li>`;
                        });
                        html += '</ol>';
                    }
                    
                    // ã€Œãƒ¬ãƒ™ãƒ«é¸æŠã«æˆ»ã‚‹ã€ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 
                    html += '<button onclick="showLevelSelect()" class="mt-4 w-full p-2 bg-gray-600 hover:bg-gray-700 rounded">ãƒ¬ãƒ™ãƒ«é¸æŠã«æˆ»ã‚‹</button>';
                    
                    // çµ„ã¿ç«‹ã¦ãŸHTMLã‚’ç”»é¢ã«æŒ¿å…¥
                    resultDisplayArea.innerHTML = html;
                })
                .catch(error => {
                    // 6. å–å¾—å¤±æ•—
                    console.error('ãƒ©ãƒ³ã‚­ãƒ³ã‚°å–å¾—ã‚¨ãƒ©ãƒ¼:', error);
                    resultDisplayArea.innerHTML = `<p class="text-center text-red-500">ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸã€‚</p><button onclick="showLevelSelect()" class="mt-4 w-full p-2 bg-gray-600 hover:bg-gray-700 rounded">ãƒ¬ãƒ™ãƒ«é¸æŠã«æˆ»ã‚‹</button>`;
                });
        }

        /**
         * @function closeRankingDisplay
         * @description ãƒ©ãƒ³ã‚­ãƒ³ã‚°è¡¨ç¤ºã‚¨ãƒªã‚¢ã‚’é–‰ã˜ã‚‹
         */
		function closeRankingDisplay() {
            rankingDisplayArea.classList.add('hidden');
            // ãƒœã‚¿ãƒ³ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ã€Œè¦‹ã‚‹ã€ã«æˆ»ã™
            showRankingButton.innerHTML = 'ğŸ† ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¦‹ã‚‹';
        }
        
        /**
         * @function showLevelSelect
         * @description ãƒ©ãƒ³ã‚­ãƒ³ã‚°çµæœã‹ã‚‰ã€Œãƒ¬ãƒ™ãƒ«é¸æŠã«æˆ»ã‚‹ã€æ™‚ã®å‡¦ç†
         */
		function showLevelSelect() {
            // çµæœè¡¨ç¤ºã‚’éš ã—ã€ãƒ¬ãƒ™ãƒ«é¸æŠã‚’è¡¨ç¤º
            document.getElementById('ranking-result-display').classList.add('hidden');
            document.getElementById('ranking-level-select').classList.remove('hidden');
        }

        // --- 5. ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®ç™»éŒ² ---
        // å„ãƒœã‚¿ãƒ³ã«ã€ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚‰ã©ã®é–¢æ•°ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã‚’å‰²ã‚Šå½“ã¦ã‚‹
        homeButton.addEventListener('click', handleHomeClick); 
        startButton.addEventListener('click', startGame);
        nextButton.addEventListener('click', nextQuestion); 
        showRankingButton.addEventListener('click', displayRanking);
        
        // â–²â–²â–² JavaScriptã®å‡¦ç†çµ‚äº† â–²â–²â–²
    </script>
</body>
</html>