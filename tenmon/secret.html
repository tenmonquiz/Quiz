<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤©æ–‡4æŠã‚¯ã‚¤ã‚º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #0d1117; }
        .container { max-width: 768px; }
        .question-card, .result-card { background: #161b22; border: 1px solid #30363d; box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.15); }
        .choice-button { transition: all 0.2s; }
        .choice-button:hover { transform: translateY(-2px); box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06); background-color: #232832; }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div id="quiz-container" class="container w-full">

        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold text-gray-100">ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆå•é¡Œï¼</h1>
            <div id="score-display" class="text-xl font-semibold text-sky-400 p-2 rounded-lg bg-gray-800 shadow-lg">
                ã‚¹ã‚³ã‚¢: 0 / 0
            </div>
        </div>

        <div id="game-area" class="question-card rounded-xl p-6 md:p-8">

            <div id="start-screen" class="text-center">
                <h2 class="text-2xl font-bold mb-4 text-white">å…¨11å•ï¼å®‡å®™ã®çŸ¥è­˜ã‚’è©¦ãã†ï¼</h2>
                <p class="text-gray-400 mb-6">ã‚¹ã‚¿ãƒ¼ãƒˆãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã‚¯ã‚¤ã‚ºã‚’é–‹å§‹ã—ã¦ãã ã•ã„ã€‚</p>
                <button id="start-button" class="px-8 py-3 bg-green-600 hover:bg-green-700 text-white font-bold text-lg rounded-full shadow-xl transition duration-150 transform hover:scale-105">
                    ã‚¯ã‚¤ã‚ºã‚¹ã‚¿ãƒ¼ãƒˆ
                </button>
            </div>

            <div id="quiz-screen" class="hidden">
                <div class="mb-6">
                    <p id="question-number" class="text-sm font-medium text-sky-400 mb-2">å•é¡Œ 1 / 11</p>
                    <div id="question-area" class="text-xl md:text-2xl font-semibold text-gray-100 p-4 bg-gray-700 rounded-lg">
                        å•é¡Œæ–‡ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™
                    </div>
                </div>
                <div id="choices-area" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                </div>
                <div id="feedback-area" class="mt-6 h-8 text-center text-xl font-bold">
                </div>
            </div>

            <div id="exp-screen" class="hidden">
                <div class="mb-6">
                    <p class="text-sm font-medium text-sky-400 mb-2">è§£èª¬</p>
                    <div id="exp-area" class="text-xl md:text-2xl font-semibold text-gray-100 p-4 bg-gray-700 rounded-lg" style="min-height: 100px;">
                        è§£èª¬æ–‡ãŒã“ã“ã«è¡¨ç¤ºã•ã‚Œã¾ã™
                    </div>
                </div>
                <div class="text-center">
                    <button id="next-button" class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg rounded-full shadow-xl transition duration-150 transform hover:scale-105">
                        æ¬¡ã®å•é¡Œã¸é€²ã‚€
                    </button>
                </div>
            </div>
            
            <div id="result-screen" class="hidden text-center">
                <h2 id="result-title" class="text-3xl font-bold mb-4 text-yellow-300"></h2>
                <p id="final-score-text" class="text-5xl font-extrabold text-green-500 mb-6"></p>
                <p class="text-gray-400 mb-6">ã¾ãŸæŒ‘æˆ¦ã—ã¦ã€å®‡å®™åšå£«ã‚’ç›®æŒ‡ãã†ï¼</p>
                <button id="restart-button" class="px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-bold text-lg rounded-full shadow-xl transition duration-150 transform hover:scale-105">
                    ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤
                </button>
            </div>
            
        </div>
    </div>

    <script>
        // â–¼â–¼â–¼ JavaScriptã®å‡¦ç†é–‹å§‹ â–¼â–¼â–¼

        // --- ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ (å…ƒã®ãƒ‡ãƒ¼ã‚¿) ---
        const quizData = [
            {
                question: "å¤ªé™½ç³»ã®æƒ‘æ˜Ÿã®ä¸­ã§æœ€ã‚‚ä½“ç©ãŒå¤§ãã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                choices: ["ç«æ˜Ÿ", "åœŸæ˜Ÿ", "æœ¨æ˜Ÿ", "å¤©ç‹æ˜Ÿ"],
                answer: "æœ¨æ˜Ÿ",
                exp:"æœ¨æ˜Ÿã¯å¤ªé™½ç³»æœ€å¤§ã®æƒ‘æ˜Ÿã§ã€åœ°çƒãŒç´„1300å€‹ã‚‚å…¥ã‚‹ã»ã©ã®ä½“ç©ã‚’æŒã£ã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "åœ°çƒã‹ã‚‰æœ€ã‚‚è¿‘ã„ï¼ˆå¤ªé™½ã‚’é™¤ãï¼‰æ’æ˜Ÿã¯ä½•ã§ã™ã‹ï¼Ÿ",
                choices: ["ãƒ™ãƒ†ãƒ«ã‚®ã‚¦ã‚¹", "ãƒ—ãƒ­ã‚­ã‚·ãƒãƒ»ã‚±ãƒ³ã‚¿ã‚¦ãƒª", "ã‚·ãƒªã‚¦ã‚¹", "ã‚±ãƒ³ã‚¿ã‚¦ãƒ«ã‚¹åº§Î±æ˜Ÿ"],
                answer: "ãƒ—ãƒ­ã‚­ã‚·ãƒãƒ»ã‚±ãƒ³ã‚¿ã‚¦ãƒª",
                exp:"ãƒ—ãƒ­ã‚­ã‚·ãƒãƒ»ã‚±ãƒ³ã‚¿ã‚¦ãƒªã¯ã€å¤ªé™½ã‹ã‚‰ç´„4.24å…‰å¹´ã®è·é›¢ã«ã‚ã‚‹èµ¤è‰²çŸ®æ˜Ÿã§ã™ã€‚ã‚±ãƒ³ã‚¿ã‚¦ãƒ«ã‚¹åº§Î±æ˜Ÿï¼ˆAæ˜Ÿã¨Bæ˜Ÿï¼‰ã®ä¼´æ˜Ÿã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "å…‰ãŒ1å¹´é–“ã«é€²ã‚€è·é›¢ã‚’ç¤ºã™ã€å¤©æ–‡å­¦ã§ä½¿ã‚ã‚Œã‚‹å˜ä½ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                choices: ["å¤©æ–‡å˜ä½ (AU)", "ãƒ‘ãƒ¼ã‚»ã‚¯", "å…‰é€Ÿ", "å…‰å¹´"],
                answer: "å…‰å¹´",
                exp:"1å…‰å¹´ã¯ç´„9å…†4600å„„kmã§ã™ã€‚å…‰é€Ÿã¯å˜ä½ã§ã¯ãªãé€Ÿåº¦ãã®ã‚‚ã®ã‚’æŒ‡ã—ã¾ã™ã€‚"
            },
            {
                question: "ã‹ã¤ã¦æƒ‘æ˜Ÿã¨ã•ã‚Œã¦ã„ãŸãŒã€2006å¹´ã«æº–æƒ‘æ˜Ÿã«åˆ†é¡ã•ã‚ŒãŸå¤©ä½“ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                choices: ["ã‚±ãƒ¬ã‚¹", "ã‚¨ãƒªã‚¹", "å†¥ç‹æ˜Ÿ", "ãƒã‚±ãƒã‚±"],
                answer: "å†¥ç‹æ˜Ÿ",
                exp:"2006å¹´ã®å›½éš›å¤©æ–‡å­¦é€£åˆï¼ˆIAUï¼‰ç·ä¼šã§æƒ‘æ˜Ÿã®å®šç¾©ãŒå®šã‚ã‚‰ã‚Œã€å†¥ç‹æ˜Ÿã¯ã€Œæº–æƒ‘æ˜Ÿã€ã«åˆ†é¡å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚"
            },
            {
                question: "èµ¤ãè¦‹ãˆã‚‹ãŸã‚ã€Œèµ¤ã„æƒ‘æ˜Ÿã€ã¨ã‚‚å‘¼ã°ã‚Œã‚‹å¤ªé™½ç³»ã®æƒ‘æ˜Ÿã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                choices: ["é‡‘æ˜Ÿ", "ç«æ˜Ÿ", "æ°´æ˜Ÿ", "æœ¨æ˜Ÿ"],
                answer: "ç«æ˜Ÿ",
                exp:"ç«æ˜Ÿã®è¡¨é¢ã«ã¯é…¸åŒ–é‰„ï¼ˆèµ¤ã‚µãƒ“ï¼‰ãŒè±Šå¯Œã«å«ã¾ã‚Œã¦ã„ã‚‹ãŸã‚ã€èµ¤ã£ã½ãè¦‹ãˆã¾ã™ã€‚"
            },
            {
                question: "å¤©ã®å·éŠ€æ²³ã®ä¸­å¿ƒã«ã‚ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã‚‹ã‚‚ã®ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                choices: ["çƒçŠ¶æ˜Ÿå›£", "è¶…å¤§è³ªé‡ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«", "å·¨å¤§ãªæš—é»’ç‰©è³ªã®å¡Š", "éŠ€æ²³ãƒãƒ­ãƒ¼"],
                answer: "è¶…å¤§è³ªé‡ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«",
                exp:"å¤©ã®å·éŠ€æ²³ã®ä¸­å¿ƒã«ã¯ã€Œã„ã¦åº§A*ï¼ˆã‚¨ãƒ¼ã‚¹ã‚¿ãƒ¼ï¼‰ã€ã¨å‘¼ã°ã‚Œã‚‹ã€å¤ªé™½ã®ç´„400ä¸‡å€ã®è³ªé‡ã‚’æŒã¤è¶…å¤§è³ªé‡ãƒ–ãƒ©ãƒƒã‚¯ãƒ›ãƒ¼ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã¨è€ƒãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "å¤ªé™½ç³»ã§æœ€ã‚‚ç¾ã—ã„è¼ªã‚’æŒã¤ã¨ã•ã‚Œã‚‹æƒ‘æ˜Ÿã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                choices: ["æœ¨æ˜Ÿ", "å¤©ç‹æ˜Ÿ", "æµ·ç‹æ˜Ÿ", "åœŸæ˜Ÿ"],
                answer: "åœŸæ˜Ÿ",
                exp:"åœŸæ˜Ÿã®è¼ªã¯ã€ä¸»ã«æ°·ã®ç²’å­ã‚„å²©çŸ³ã®ã‹ã‘ã‚‰ã§ã§ãã¦ã„ã¾ã™ã€‚æœ¨æ˜Ÿã€å¤©ç‹æ˜Ÿã€æµ·ç‹æ˜Ÿã«ã‚‚è¼ªã¯ã‚ã‚Šã¾ã™ãŒã€åœŸæ˜Ÿã»ã©é¡•è‘—ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚"
            },
            {
                question: "å¤ªé™½ç³»å¤–ã®æ’æ˜Ÿã‚’å‘¨å›ã™ã‚‹æƒ‘æ˜Ÿã®ã“ã¨ã‚’ä½•ã¨å‘¼ã³ã¾ã™ã‹ï¼Ÿ",
                choices: ["å½—æ˜Ÿ", "ç³»å¤–æƒ‘æ˜Ÿ", "æº–æƒ‘æ˜Ÿ", "å°æƒ‘æ˜Ÿ"],
                answer: "ç³»å¤–æƒ‘æ˜Ÿ",
                exp:"1990å¹´ä»£ã‹ã‚‰æ¬¡ã€…ã¨ç™ºè¦‹ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã€ç¾åœ¨ã§ã¯æ•°åƒå€‹ã®ç³»å¤–æƒ‘æ˜ŸãŒç¢ºèªã•ã‚Œã¦ã„ã¾ã™ã€‚"
            },
            {
                question: "æ’æ˜ŸãŒãã®ä¸€ç”Ÿã®æœ€å¾Œã«è¿ãˆã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã€å¤§è¦æ¨¡ãªçˆ†ç™ºç¾è±¡ã¯ä½•ã§ã™ã‹ï¼Ÿ",
                choices: ["ãƒãƒ´ã‚¡", "ãƒ•ãƒ¬ã‚¢", "è¶…æ–°æ˜Ÿçˆ†ç™º", "ã‚¬ãƒ³ãƒç·šãƒãƒ¼ã‚¹ãƒˆ"],
                answer: "è¶…æ–°æ˜Ÿçˆ†ç™º",
                exp:"å¤ªé™½ã‚ˆã‚Šã‚‚ãšã£ã¨é‡ã„æ’æ˜ŸãŒã€ãã®ä¸€ç”Ÿã®æœ€å¾Œã«èµ·ã“ã™å¤§çˆ†ç™ºã§ã™ã€‚ã“ã®çˆ†ç™ºã«ã‚ˆã£ã¦é‡ã„å…ƒç´ ãŒå®‡å®™ç©ºé–“ã«ã¾ãæ•£ã‚‰ã•ã‚Œã¾ã™ã€‚"
            },
            {
                question: "ç¾è—¤é™½ã‚’é¸ã¹",
                choices: ["HARU", "æ˜¥å·»ã", "ç¾è—¤é™½", "ãƒãƒ«ã‚¯"],
                answer: "ç¾è—¤é™½",
                exp:"ã“ã‚Œã¯ã‚µãƒ¼ãƒ“ã‚¹å•é¡Œã§ã™ï¼"
            },
            {
                question: "å½—æ˜Ÿã®ä¸»ãªæˆåˆ†ã¨ã—ã¦æ­£ã—ã„ã‚‚ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",
                choices: ["å²©çŸ³ã¨é‡‘å±", "ã‚¬ã‚¹ã¨å¡µ", "æ°·ã¨å¡µ", "äºŒé…¸åŒ–ç‚­å‹•"],
                answer: "æ°·ã¨å¡µ",
                exp:"å½—æ˜Ÿã¯ã€Œæ±šã‚ŒãŸé›ªç‰ã€ã¨ã‚‚å‘¼ã°ã‚Œã€æ°´ã‚„äºŒé…¸åŒ–ç‚­ç´ ã€ã‚¢ãƒ³ãƒ¢ãƒ‹ã‚¢ãªã©ã®æ°·ã¨ã€å²©çŸ³è³ªã®å¡µï¼ˆã¡ã‚Šï¼‰ã§ã§ãã¦ã„ã¾ã™ã€‚"
            }
        ];

        // --- ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•° ---
        let currentQuestionIndex = 0;
        let score = 0;
        let quizActive = false; 
        let shuffledQuizData = []; //  ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚ŒãŸã‚¯ã‚¤ã‚ºé…åˆ—

        // --- DOMè¦ç´ ã®å–å¾— ---
        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');   
        const expScreen = document.getElementById('exp-screen');     
        const resultScreen = document.getElementById('result-screen');
        const startButton = document.getElementById('start-button');   
        const nextButton = document.getElementById('next-button');      
        const restartButton = document.getElementById('restart-button');
        const scoreDisplay = document.getElementById('score-display');   
        const questionNumber = document.getElementById('question-number');
        const questionArea = document.getElementById('question-area');    
        const choicesArea = document.getElementById('choices-area');      
        const feedbackArea = document.getElementById('feedback-area');   
        const expArea = document.getElementById('exp-area');          
        const resultTitle = document.getElementById('result-title');     
        const finalScoreText = document.getElementById('final-score-text');

        // --- é–¢æ•°å®šç¾© ---

        /**
         * @function shuffleArray
         * @description é…åˆ—ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã™ã‚‹
         * @param {Array} array - ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ãŸã„é…åˆ—
         * @returns {Array} ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã•ã‚ŒãŸæ–°ã—ã„é…åˆ—
         */
        function shuffleArray(array) {
            let newArray = array.slice(); // å…ƒã®é…åˆ—ã‚’å£Šã•ãªã„ã‚ˆã†ã«ã‚³ãƒ”ãƒ¼
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]]; // è¦ç´ ã‚’äº¤æ›
            }
            return newArray;
        }

        /**
         * @function startGame 
         * @description ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ï¼ˆã¾ãŸã¯ãƒªã‚¹ã‚¿ãƒ¼ãƒˆï¼‰ã™ã‚‹é–¢æ•°
         */
        function startGame() {
            // â˜…ä¿®æ­£: å…ƒã®quizDataã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã¦ shuffledQuizData ã«æ ¼ç´
            shuffledQuizData = shuffleArray(quizData);
            
            currentQuestionIndex = 0;
            score = 0;
            quizActive = true; 

            startScreen.classList.add('hidden');  
            resultScreen.classList.add('hidden'); 
            expScreen.classList.add('hidden');    
            quizScreen.classList.remove('hidden');  
            
            updateScoreDisplay(); // ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’æ›´æ–°
            displayQuestion();    // æœ€åˆã®å•é¡Œã‚’è¡¨ç¤º
        }

        /**
         * @function updateScoreDisplay 
         * @description ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’ç¾åœ¨ã®ã‚¹ã‚³ã‚¢ã§æ›´æ–°ã™ã‚‹é–¢æ•°
         */
        function updateScoreDisplay() {
            // â˜…ä¿®æ­£: quizData.length -> shuffledQuizData.length
            scoreDisplay.textContent = `ã‚¹ã‚³ã‚¢: ${score} / ${shuffledQuizData.length}`;
        }

        /**
         * @function displayQuestion 
         * @description ç¾åœ¨ã®å•é¡Œç•ªå· (currentQuestionIndex) ã«åŸºã¥ã„ã¦å•é¡Œã¨é¸æŠè‚¢ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
         */
        function displayQuestion() {
            expScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');

            if (currentQuestionIndex >= shuffledQuizData.length) {
                endGame();
                return; 
            }

            //  shuffledQuizData
            const currentQuiz = shuffledQuizData[currentQuestionIndex];
            
            //  shuffledQuizData.length
            questionNumber.textContent = `å•é¡Œ ${currentQuestionIndex + 1} / ${shuffledQuizData.length}`;
            questionArea.textContent = currentQuiz.question;
            
            choicesArea.innerHTML = ''; 

            currentQuiz.choices.forEach(choice => {
                const button = document.createElement('button');
                button.textContent = choice;
                button.classList.add(
                    'choice-button', 'p-4', 'bg-gray-800', 'text-gray-100', 'font-semibold',
                    'rounded-lg', 'text-left', 'shadow-md', 'hover:bg-sky-700', 'transition', 'duration-200'
                );
                button.addEventListener('click', () => checkAnswer(choice, button));
                choicesArea.appendChild(button);
            });
            
            quizActive = true;
            feedbackArea.textContent = '';
        }

        /**
         * @function checkAnswer 
         * @description é¸æŠã•ã‚ŒãŸå›ç­”ãŒæ­£ã—ã„ã‹ãƒã‚§ãƒƒã‚¯ã—ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
         */
        function checkAnswer(selectedChoice, selectedButton) {
            if (!quizActive) return;
            quizActive = false;

            const currentQuiz = shuffledQuizData[currentQuestionIndex];
            const isCorrect = selectedChoice === currentQuiz.answer;

            Array.from(choicesArea.children).forEach(button => {
                button.disabled = true;  
                button.classList.remove('hover:bg-sky-700');  

                if (button.textContent === currentQuiz.answer) {
                    button.classList.add('bg-green-600', 'ring-4', 'ring-green-400');
                    button.classList.remove('bg-gray-800');
                } else if (button === selectedButton && !isCorrect) {
                    button.classList.add('bg-red-600', 'ring-4', 'ring-red-400');
                    button.classList.remove('bg-gray-800');
                }
            });

            if (isCorrect) {
                score++; 
                feedbackArea.textContent = 'âœ… æ­£è§£ï¼ï¼';
                feedbackArea.classList.remove('text-red-500');
                feedbackArea.classList.add('text-green-500');
            } else {
                feedbackArea.textContent = 'âŒ ä¸æ­£è§£...';
                feedbackArea.classList.remove('text-green-500');
                feedbackArea.classList.add('text-red-500');
            }
            
            updateScoreDisplay(); 

            setTimeout(showExplanation, 2000);
        }

        /**
         * @function showExplanation 
         * @description è§£èª¬ç”»é¢ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
         */
        function showExplanation(){
            const currentQuiz = shuffledQuizData[currentQuestionIndex];
            
            expArea.textContent = currentQuiz.exp || 'ã“ã®å•é¡Œã®è§£èª¬ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚'; 
            
            quizScreen.classList.add('hidden');
            expScreen.classList.remove('hidden');
        }

        /**
         * @function nextQuestion
         * @description æ¬¡ã®å•é¡Œã«é€²ã‚€é–¢æ•°
         */
        function nextQuestion() {
            expScreen.classList.add('hidden');
            currentQuestionIndex++; 
            displayQuestion();
        }

        /**
         * @function endGame 
         * @description ã‚²ãƒ¼ãƒ ã‚’çµ‚äº†ã—ã€æœ€çµ‚çµæœã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
         */
        function endGame() {
            quizScreen.classList.add('hidden');   
            expScreen.classList.add('hidden');    
            resultScreen.classList.remove('hidden'); 
            
            //  quizData.length -> shuffledQuizData.length
            const total = shuffledQuizData.length;
            
            let titleText = "";
            if (score === total) {
                titleText = "ğŸ‰ æº€ç‚¹ãŠã‚ã§ã¨ã†ï¼å®‡å®™åšå£«ï¼";
            } else if (score >= total * 0.7) {
                titleText = "âœ¨ ç´ æ™´ã‚‰ã—ã„ï¼ã‹ãªã‚Šã®çŸ¥è­˜ã§ã™ï¼";
            } else {
                titleText = "ğŸ‘ ã‚ˆãé ‘å¼µã‚Šã¾ã—ãŸï¼ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦ï¼";
            }
            
            resultTitle.textContent = titleText; 
            finalScoreText.textContent = `${score} / ${total}`; 

            scoreDisplay.textContent = `æœ€çµ‚ã‚¹ã‚³ã‚¢: ${score} / ${total}`;
        }

        // --- ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã®ç™»éŒ² ---
        startButton.addEventListener('click', startGame);
        restartButton.addEventListener('click', startGame);
        nextButton.addEventListener('click', nextQuestion); 

        // --- åˆæœŸåŒ–å‡¦ç†  ---
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ã€HTMLã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ã®æ•°å€¤ã‚’æ­£ã—ã„ã‚¯ã‚¤ã‚ºæ•°ã«åˆã‚ã›ã‚‹
        const totalQuestions = quizData.length;
        scoreDisplay.textContent = `ã‚¹ã‚³ã‚¢: 0 / ${totalQuestions}`;
        document.getElementById('start-screen').querySelector('h2').textContent = `å…¨${totalQuestions}å•ï¼å®‡å®™ã®çŸ¥è­˜ã‚’è©¦ãã†ï¼`;
        document.getElementById('question-number').textContent = `å•é¡Œ 1 / ${totalQuestions}`;
        
        // â–²â–²â–² JavaScriptã®å‡¦ç†çµ‚äº† â–²â–²â–²
    </script>
</body>
</html>